{"version":3,"sources":["webpack:///./src/views/message/Message.vue","webpack:///./src/views/message/common/MessageItem.vue","webpack:///./src/views/message/common/MessageItem.vue?938d","webpack:///./src/views/message/Message.vue?7307","webpack:///./src/views/message/Message.vue?8ac1","webpack:///./src/views/common/empty/empty.vue","webpack:///./src/views/common/empty/empty.vue?c904","webpack:///./src/views/common/empty/empty.vue?874e","webpack:///./src/views/message/common/MessageItem.vue?533d","webpack:///./src/views/message/Message.vue?95d2"],"names":["class","style","height","title","border","fixed","placeholder","isLoading","color","size","message","item","index","goChitChat","key","id","text","emptyHeight","src","photo","count","username","props","type","Object","default","setup","render","__scopeId","components","MessageItem","empty","store","router","state","requestData","window","localStorage","getItem","dispatch","messageItem","innerHeight","commit","push","path","query","userName","value","hisPhoto","description","String"],"mappings":"gMAK6D,U,+KAJ3D,eAqBO,QArBDA,MAAM,UAAWC,MAAK,uBAAY,EAAAC,OAAM,Q,CAC5C,eAAgH,GAAnGC,MAAM,KAAMC,QAAQ,EAAQC,OAAO,EAAOC,aAAa,EAAML,MAAA,mCAE1D,EAAAM,W,iBACd,eAA2E,G,MAA9DP,MAAM,UAAUQ,MAAM,UAAUC,KAAK,M,yBAAK,iBAAM,C,+BAE/D,eAcW,gBAbO,EAAAC,S,mBACd,eAOe,8BAPkD,EAAAA,SAAO,SAAvBC,EAAMC,G,wBAAvD,eAOe,GAPA,QAAK,mBAAE,EAAAC,WAAWD,IAA0CE,IAAKH,EAAKI,GAAKL,QAASC,G,yDAUnG,eAA4E,G,MAArEK,KAAK,OAAQf,MAAK,uBAAY,EAAAgB,YAAW,OAAWjB,MAAM,U,mHClB9DA,MAAM,Y,GACRA,MAAM,iB,GACJA,MAAM,W,mBAEJA,MAAM,U,GAGRA,MAAM,Q,gDAPf,eAgBU,UAhBV,EAgBU,CAfR,eAWM,MAXN,EAWM,CAVJ,eAGM,MAHN,EAGM,CAFJ,eAA4B,OAAtBkB,IAAK,EAAAR,QAAQS,O,UACoB,IAAb,EAAAT,QAAQU,O,iBAAlC,eAAwE,MAAxE,EAAwE,eAAtB,EAAAV,QAAQU,OAAK,I,wBAGjE,eAIM,MAJN,EAIM,CAHJ,eAA+B,yBAAxB,EAAAV,QAAQW,UAAQ,S,iBAYhB,OACbC,MAAO,CACLZ,QAAS,CACPa,KAAMC,OACNC,QAAS,WACP,MAAO,MAIbC,MATa,WAUX,MAAO,K,UC1BX,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YCAA,iBAAgB,CAC7BC,WAAY,CACVC,cACAC,QAAA,MAGFL,MAN6B,WAO3B,IAAMM,EAAQ,iBACRC,EAAS,iBACT1B,EAAY,gBAAS,WACzB,OAAOyB,EAAME,MAAMxB,QAAQH,aAEvB4B,EAAc,iBAAH,OAAoBC,OAAOC,aAAaC,QAAQ,UACjEN,EAAMO,SAAS,yBAA0BJ,GACzC,IAAMzB,EAAU,gBAAS,WACvB,OAAOsB,EAAME,MAAMxB,QAAQ8B,eAE7BR,EAAMO,SAAS,mBACf,IAAMrC,EAAS,eAAIkC,OAAOK,aACpB5B,EAAa,SAACD,GAClBoB,EAAMU,OAAO,2BACbT,EAAOU,KAAK,CACVC,KAAM,YACNC,MAAO,CACLjC,QACAkC,SAAUpC,EAAQqC,MAAMnC,GAAOS,SAC/B2B,SAAUtC,EAAQqC,MAAMnC,GAAOO,UAIrC,MAAO,CACLN,aACAH,UACAH,YACAL,a,UCrCN,EAAOyB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,sICPb,eAEU,gBADR,eAAiC,GAArBqB,YAAa,EAAAjC,MAAI,0BCClB,qBAAgB,CAC7BM,MAAO,CACLN,KAAM,CACJO,KAAM2B,OACNzB,QAAS,KAGbC,MAP6B,WAQ3B,MAAO,MCRX,EAAOC,OAASA,EAED,U,kCCLf,W,kCCAA,W","file":"js/chunk-442265fe.a39ca0c7.js","sourcesContent":["<template>\n  <main class=\"message\" :style=\"{ height: height + 'px' }\">\n    <van-nav-bar title=\"消息\" :border=\"false\" :fixed=\"true\" :placeholder=\"true\" style=\"'background-color':#f3f3f3 \" />\n    <!-- <message-top></message-top> -->\n    <template v-if=\"isLoading\">\n      <van-loading class=\"loading\" color=\"#CBCFD3\" size=\"50\">加载中...</van-loading>\n    </template>\n    <template v-else>\n      <template v-if=\"message\">\n        <message-item @click=\"goChitChat(index)\" v-for=\"(item, index) in message\" :key=\"item.id\" :message=\"item\">\n          <!-- <template v-slot:time>\n            <time class=\"time\">7-25</time>\n          </template>\n          <template v-slot:img>\n            <img class=\"img\" src=\"~assets/image/home/mouse.png\" />\n          </template> -->\n        </message-item>\n      </template>\n      <template v-else>\n        <empty text=\"暂无消息\" :style=\"{ height: emptyHeight + 'px' }\" class=\"emptys\" />\n      </template>\n    </template>\n  </main>\n</template>\n\n<script lang=\"ts\">\nimport { useRouter } from 'vue-router';\nimport { computed, defineComponent, ref } from 'vue';\nimport { useStore } from '@/store';\n\nimport MessageItem from './common/MessageItem.vue';\nimport empty from '../common/empty/empty.vue';\n// import MessageTop from './common/MessageTop.vue';\nexport default defineComponent({\n  components: {\n    MessageItem,\n    empty\n    // MessageTop\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const isLoading = computed(() => {\n      return store.state.message.isLoading;\n    });\n    const requestData = `index=1&token=${window.localStorage.getItem('token')}`;\n    store.dispatch('message/getMessageItem', requestData);\n    const message = computed(() => {\n      return store.state.message.messageItem;\n    });\n    store.dispatch('me/getUserDatas');\n    const height = ref(window.innerHeight);\n    const goChitChat = (index: number) => {\n      store.commit('message/clearAllMessage');\n      router.push({\n        path: '/chitchat',\n        query: {\n          index,\n          userName: message.value[index].username,\n          hisPhoto: message.value[index].photo\n        }\n      });\n    };\n    return {\n      goChitChat,\n      message,\n      isLoading,\n      height\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.img {\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n}\n.time {\n  font-size: 10px;\n  color: #b5b5b5;\n}\n.loading {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  top: 40%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>\n","<template>\n  <section class=\"msg-item\">\n    <div class=\"msg-item-left\">\n      <div class=\"msg-img\">\n        <img :src=\"message.photo\" />\n        <div class=\"no-msg\" v-if=\"message.count !== 0\">{{ message.count }}</div>\n      </div>\n\n      <div class=\"text\">\n        <h5>{{ message.username }}</h5>\n        <!-- <p>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p>\n        <slot name=\"time\"></slot> -->\n      </div>\n    </div>\n    <!-- <div class=\"msg-item-right\">\n      <slot name=\"img\"></slot>\n    </div> -->\n  </section>\n</template>\n\n<script>\nexport default {\n  props: {\n    message: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  setup() {\n    return {};\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.msg-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 0 10px 10px 10px;\n  margin-top: 10px;\n  border-bottom: 1px solid #f3f3f3;\n  .msg-item-left {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    width: calc(100vw - 60px);\n    .msg-img {\n      position: relative;\n      .no-msg {\n        width: 15px;\n        height: 15px;\n        background-color: red;\n        color: white;\n        border-radius: 50%;\n        font-size: 11px;\n        text-align: center;\n        line-height: 15px;\n        position: absolute;\n        top: -3px;\n        right: -5px;\n      }\n      img {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n      }\n    }\n\n    .text {\n      margin-left: 15px;\n      h5 {\n        margin: 0;\n        font-size: 14px;\n        font-weight: 400;\n      }\n      p {\n        margin: 2px 0;\n        color: #b5b5b5;\n        width: 200px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n    }\n  }\n  // .msg-item-right {\n  //   width: 60px;\n  //   height: 60px;\n  // }\n}\n</style>\n","import { render } from \"./MessageItem.vue?vue&type=template&id=dca3537c&scoped=true\"\nimport script from \"./MessageItem.vue?vue&type=script&lang=js\"\nexport * from \"./MessageItem.vue?vue&type=script&lang=js\"\n\nimport \"./MessageItem.vue?vue&type=style&index=0&id=dca3537c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-dca3537c\"\n\nexport default script","\nimport { useRouter } from 'vue-router';\nimport { computed, defineComponent, ref } from 'vue';\nimport { useStore } from '@/store';\n\nimport MessageItem from './common/MessageItem.vue';\nimport empty from '../common/empty/empty.vue';\n// import MessageTop from './common/MessageTop.vue';\nexport default defineComponent({\n  components: {\n    MessageItem,\n    empty\n    // MessageTop\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const isLoading = computed(() => {\n      return store.state.message.isLoading;\n    });\n    const requestData = `index=1&token=${window.localStorage.getItem('token')}`;\n    store.dispatch('message/getMessageItem', requestData);\n    const message = computed(() => {\n      return store.state.message.messageItem;\n    });\n    store.dispatch('me/getUserDatas');\n    const height = ref(window.innerHeight);\n    const goChitChat = (index: number) => {\n      store.commit('message/clearAllMessage');\n      router.push({\n        path: '/chitchat',\n        query: {\n          index,\n          userName: message.value[index].username,\n          hisPhoto: message.value[index].photo\n        }\n      });\n    };\n    return {\n      goChitChat,\n      message,\n      isLoading,\n      height\n    };\n  }\n});\n","import { render } from \"./Message.vue?vue&type=template&id=6e51660b&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=ts\"\nexport * from \"./Message.vue?vue&type=script&lang=ts\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=6e51660b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6e51660b\"\n\nexport default script","<template>\n  <article>\n    <van-empty :description=\"text\" />\n  </article>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  props: {\n    text: {\n      type: String,\n      default: ''\n    }\n  },\n  setup() {\n    return {};\n  }\n});\n</script>\n\n<style scoped lang=\"scss\"></style>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  props: {\n    text: {\n      type: String,\n      default: ''\n    }\n  },\n  setup() {\n    return {};\n  }\n});\n","import { render } from \"./empty.vue?vue&type=template&id=d308173a\"\nimport script from \"./empty.vue?vue&type=script&lang=ts\"\nexport * from \"./empty.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MessageItem.vue?vue&type=style&index=0&id=dca3537c&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Message.vue?vue&type=style&index=0&id=6e51660b&lang=scss&scoped=true\""],"sourceRoot":""}